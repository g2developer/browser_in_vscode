<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src %CSP_SOURCE% https: data:; script-src 'nonce-%NONCE%'; style-src %CSP_SOURCE% 'unsafe-inline'; frame-src https: http:; connect-src https: http:;">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browser in VS Code</title>
  <link rel="stylesheet" href="%STYLE_URI%">
</head>
<body>
  <div class="bar">
    <button id="btnReload">🔄</button>
    <input id="addr" type="text" value="http://localhost:5173/" />
    <button id="go">Go</button>
    <button id="btnMobile" aria-pressed="false">📱Mobile</button>
    <button id="btnConsole">💬Console</button>
  </div>
  <div class="content">
    <div class="view-wrap">
      <div class="hint" id="hint" hidden>
        <div id="hintContent">
          이 Extension은 localhost같은 페이지의 개발과 디버깅을 위해서 만들어졌습니다.<br/>
          외부페이지는 표지되지 않을 수 있습니다.<br/><br/>
          페이지가 표시되지 않는 경우 대상 사이트가 iframe 임베드를 차단했을 수 있습니다.<br/>
          주소를 확인하거나 로컬 개발 서버를 사용해 보세요.<br/>
        </div>
        <div id="recentWrap" style="margin-top:8px;">
          <strong>최근 접속한 링크</strong>
          <div id="recentLinks" style="margin-top:4px; display:flex; gap:6px; flex-wrap:wrap;"></div>
        </div>
      </div>
      <iframe id="view" src="http://localhost:5173/"></iframe>
    </div>
    <div class="console-wrap" id="consoleWrap" hidden>
      <div class="panel-resizer" id="panelResizer" aria-hidden="true"></div>
      <aside class="panel" id="logPanel" aria-label="Logs">
        <div class="panel-header">
          <span>Console</span>
          <div class="spacer"></div>
          <label class="auto">
            <input type="checkbox" id="autoscroll" checked /> Auto
          </label>
          <button id="clear" title="Clear logs">Clear</button>
        </div>
        <div class="logs" id="logs" role="log" aria-live="polite">
          <div class="notice" id="consoleGuideBanner" role="note">
            <div class="notice-content">
              콘솔 안내: iframe 페이지에서 로그를 받으려면 index.html에 다음 스크립트를 포함하세요.
              <pre><code>&lt;script src="https://unpkg.com/iframe-console-relay/dist/index.umd.min.js"&gt;&lt;/script&gt;</code></pre>
              npm 사용 시: <a href="https://github.com/g2developer/iframe-console-relay" target="_blank" rel="noreferrer">g2developer/iframe-console-relay</a>
            </div>
            <a id="consoleGuideClose" href="javascript:void()" title="close" aria-label="close">Close</a>
          </div>
        </div>
      </aside>
    </div>
    <div class="drag-overlay" id="dragOverlay" hidden aria-hidden="true"></div>
  </div>
  <script nonce="%NONCE%" src="%SCRIPT_URI%"></script>
</body>
</html>
